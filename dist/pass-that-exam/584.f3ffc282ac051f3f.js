"use strict";(self.webpackChunkpassThatExam=self.webpackChunkpassThatExam||[]).push([[584],{4710:(b,C,n)=>{n.d(C,{w:()=>U});var a=n(1173),r=n(1074),t=n(5879),d=n(1896),h=n(343),x=n(8707),p=n(1075),m=n(4692);let P=(()=>{class i{constructor(e,o,s,O,_){this.router=e,this.examService=o,this._bottomSheet=s,this.dialogRef=O,this.histories=_,this.score=0,this.total=0}ngOnInit(){this.score=this.histories.filter(e=>1==e.isCorrect).length,this.total=this.histories.length}openBottomSheet(){this._bottomSheet.open(a.y),this.dialogRef.close()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(d.F0),t.Y36(h.O),t.Y36(x.ch),t.Y36(r.so),t.Y36(r.WI))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-score"]],decls:17,vars:2,consts:[["id","score"],[1,"score-container"],[1,"score-label"],[1,"circle"],[1,"frac"],[1,"symbol"],[1,"bottom"],[1,"action-container"],["mat-flat-button","","color","primary",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"div",2),t._uU(3,"YOUR SCORE"),t.qZA(),t.TgZ(4,"mat-icon"),t._uU(5,"emoji_events"),t.qZA(),t.TgZ(6,"div",3)(7,"div",4)(8,"span"),t._uU(9),t.qZA(),t.TgZ(10,"span",5),t._uU(11,"/"),t.qZA(),t.TgZ(12,"span",6),t._uU(13),t.qZA()()(),t.TgZ(14,"div",7)(15,"button",8),t.NdJ("click",function(){return o.openBottomSheet()}),t._uU(16," Start Over "),t.qZA()()()()),2&e&&(t.xp6(9),t.Oqu(o.score),t.xp6(4),t.Oqu(o.total))},dependencies:[p.lW,m.Hw],styles:[".score-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}button.mat-primary[_ngcontent-%COMP%]{font-family:Bebas Neue;font-size:18px;color:#fff;border-radius:0;text-shadow:1px 1px 1px rgba(0,0,0,.45)}.frac[_ngcontent-%COMP%]{display:inline-block;position:relative;vertical-align:middle;letter-spacing:.001em;text-align:center}.frac[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;padding:.1em;font-size:30px;font-weight:500;font-family:Bebas Neue}.frac[_ngcontent-%COMP%]   span.bottom[_ngcontent-%COMP%]{border-top:thin solid black}.frac[_ngcontent-%COMP%]   span.symbol[_ngcontent-%COMP%]{display:none}.circle[_ngcontent-%COMP%]{width:100px;height:100px;border:5px solid #387a5c;border-radius:50%;position:relative;display:flex;justify-content:center;align-items:center}.score-label[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:10px 0;font-size:24px;font-weight:500;font-family:Bebas Neue}.action-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:20px 0}.mat-icon[_ngcontent-%COMP%]{height:50px;width:50px;font-size:50px}#score[_ngcontent-%COMP%]{padding:20px 0}"]}),i})();var c=n(1408),M=n(8658),y=n(5992),g=n(6814),v=n(2468),u=n(7937),f=n(7452);let E=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-question"]],inputs:{question:"question",ishome:"ishome"},decls:4,vars:3,consts:[[1,"card-container"],[1,"mat-elevation-z16"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"mat-card",1)(2,"p"),t._uU(3),t.qZA()()()),2&e&&(t.xp6(1),t.ekj("home",o.ishome),t.xp6(2),t.hij(" ",o.question," "))},dependencies:[f.a8],styles:[".card-container[_ngcontent-%COMP%]{padding:10px}mat-card[_ngcontent-%COMP%]{background-color:#c9e4d9;padding:50px 16px;text-align:left}mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:20px;font-weight:500;white-space:pre-line}.home[_ngcontent-%COMP%]{padding:20px 8px}.home[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;font-weight:500}"]}),i})();function w(i,l){if(1&i&&(t.TgZ(0,"mat-icon"),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(e.isAnswer?"check":"close")}}let T=(()=>{class i{constructor(e){this.examService=e,this.isAnswer=!1,this.isChoosen=!1,this.isFirstAnswer=!1}ngOnInit(){this.examService.onFirstChoosenAnswer().subscribe(e=>{this.isFirstAnswer=!0,this.isAnswer=this.answer===this.choice}),this.hasAnsweredHistory()&&this.history.choosenAnswer===this.choice||this.hasAnsweredHistory()&&this.answer===this.choice?(this.isFirstAnswer=!0,this.isChoosen=!0,this.isAnswer=this.answer===this.choice):this.hasAnsweredHistory()&&(this.isFirstAnswer=!0)}chooseAnswer(){this.canChoose()&&(this.isChoosen=!0,this.examService.firstChoiceSubject.next({isCorrect:this.answer===this.choice,itemNo:this.itemNo,choosenAnswer:this.choice}))}hasAnsweredHistory(){return this.history&&null!=this.history.isCorrect}canChoose(){return!this.isFirstAnswer}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.O))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-choice"]],inputs:{choice:"choice",answer:"answer",ishome:"ishome",itemNo:"itemNo",history:"history"},decls:7,vars:8,consts:[[1,"card-container",3,"click"],[1,"choice-container"],[1,"letter"],[4,"ngIf"],[1,"choice"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return o.chooseAnswer()}),t.TgZ(1,"mat-card")(2,"div",1)(3,"div",2),t.YNc(4,w,2,1,"mat-icon",3),t.qZA(),t.TgZ(5,"div",4),t._uU(6),t.qZA()()()()),2&e&&(t.xp6(1),t.ekj("correct",o.isAnswer)("wrong",o.isChoosen&&o.isFirstAnswer&&!o.isAnswer)("home",o.ishome),t.xp6(3),t.Q6J("ngIf",o.isChoosen||o.isAnswer),t.xp6(2),t.Oqu(o.choice))},dependencies:[g.O5,f.a8,m.Hw],styles:[".card-container[_ngcontent-%COMP%]{padding:10px}mat-card[_ngcontent-%COMP%]{cursor:pointer;padding:25px 16px;background-color:#c9e4d9}mat-icon[_ngcontent-%COMP%]{margin-right:10px}.choice-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center}.choice-container[_ngcontent-%COMP%]   .choice[_ngcontent-%COMP%]{font-size:18px;font-weight:500;white-space:pre-line}.choice-container[_ngcontent-%COMP%]   .letter[_ngcontent-%COMP%]{display:flex;align-items:center}mat-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 10px -5px #0003,0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f;background-color:#c56a1980}.correct[_ngcontent-%COMP%]{background-color:var(--header)!important}.wrong[_ngcontent-%COMP%]{background-color:var(--warn)!important}.home[_ngcontent-%COMP%]{padding:15px 8px}.home[_ngcontent-%COMP%]   .choice[_ngcontent-%COMP%]{font-size:16px}"]}),i})();function Z(i,l){1&i&&t._UZ(0,"mat-spinner")}function N(i,l){if(1&i&&t._UZ(0,"app-choice",14),2&i){const e=l.$implicit,o=t.oxw(2);t.Q6J("choice",e)("answer",o.current.answer)("ishome",o.ishome)("itemNo",o.current_item)("history",o.history)}}function S(i,l){if(1&i){const e=t.EpF();t.TgZ(0,"section")(1,"div",2)(2,"div",3)(3,"button",4),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.openBottomSheet())}),t._uU(4," SELECT CATEGORIES "),t.qZA(),t.TgZ(5,"button",5),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.openReportQuestionDialog())}),t._uU(6," REPORT QUESTION "),t.qZA(),t._UZ(7,"span",6),t.TgZ(8,"span"),t._uU(9),t.qZA()(),t._UZ(10,"mat-divider")(11,"app-question",7),t.YNc(12,N,1,5,"app-choice",8),t.TgZ(13,"div",9)(14,"button",10),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.openExplainDialog())}),t.TgZ(15,"mat-icon"),t._uU(16,"question_answer"),t.qZA()(),t._UZ(17,"div",6),t.TgZ(18,"button",11),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.back())}),t.TgZ(19,"mat-icon"),t._uU(20,"arrow_back"),t.qZA()(),t.TgZ(21,"button",12),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.gotoSkippedQuestion())}),t.TgZ(22,"mat-icon"),t._uU(23,"move_up"),t.qZA()(),t.TgZ(24,"button",13),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.next())}),t.TgZ(25,"mat-icon"),t._uU(26,"arrow_forward"),t.qZA()()()()()}if(2&i){const e=t.oxw();t.xp6(9),t.AsE("",e.current_item,"/",e.questionnaires.length,""),t.xp6(2),t.Q6J("question",e.current.question)("ishome",e.ishome),t.xp6(1),t.Q6J("ngForOf",e.current.choices),t.xp6(2),t.Q6J("disabled",!e.isShowExplanation),t.xp6(4),t.Q6J("disabled",e.current_item<=1),t.xp6(3),t.Q6J("disabled",!e.isPrompted),t.xp6(3),t.Q6J("disabled",e.current_item+1>e.questionnaires.length)}}let U=(()=>{class i{constructor(e,o,s,O,_,A){this.examService=e,this.activatedRoute=o,this.router=s,this._bottomSheet=O,this._snackBar=_,this.dialog=A,this.questionnaires=[],this.filter={category:[],items:50,timer:0,program:""},this.isloading=!1,this.isEnd=!1,this.ishome=!1,this.isPrompted=!1,this.isShowExplanation=!1,this.histories=[],this.current_item=1,this.nextskipped=1}ngOnInit(){this.activatedRoute.queryParams.subscribe(e=>{this.resetValues(),this.queryParamsHandling(e)}),this.examService.onFirstChoosenAnswer().subscribe(e=>{this.histories.push({isCorrect:e.isCorrect,itemNo:e.itemNo,choosenAnswer:e.choosenAnswer}),this.isShowExplanation=!0,this.questionnaires.length===this.histories.length&&this.openDialog(P,this.histories)}),this.ishome="/"===this.router.url}next(){this.questionnaires.length==this.histories.length&&(this.isEnd=!0),this.current_item>this.histories.length&&!this.isPrompted&&(this.isPrompted=!0),this.getQuestion(this.current_item+1)}back(){this.getQuestion(this.current_item-1)}gotoSkippedQuestion(){const e=this.questionnaires.length,o=this.histories.map(_=>_.itemNo);let s=[];for(let _=this.nextskipped;_<=e;_++)o.includes(_)||s.push(_);s.sort((_,A)=>A-_);let O=s.pop();this.nextskipped=s.length?s.pop():1,O&&this.getQuestion(O)}getQuestion(e){this.current_item=e,this.current=this.questionnaires[this.current_item-1],this.history=this.getHistory(),this.isShowExplanation=!!this.history}getExamQuestionnaires(){this.isloading=!0,this.examService.getExams(this.filter).subscribe({next:e=>{this.questionnaires=e.data,this.current=this.questionnaires[this.current_item-1]},error:e=>console.log(e),complete:()=>this.isloading=!1})}getHistory(){return this.histories.filter(e=>e.itemNo==this.current_item)[0]}openBottomSheet(){this._bottomSheet.open(a.y,{ariaLabel:"Exam Filter",panelClass:"custom-bottom-sheet"})}openExplainDialog(){this.openDialog(M.N,this.current.explanation)}openReportQuestionDialog(){this.openDialog(c.J,this.current)}openDialog(e,o){this.dialog.open(e,{data:o,width:"400px"}).afterClosed().subscribe(O=>{e===c.J&&"close"===O&&this._snackBar.open("Success sending Report. Thank you","",{duration:3e3})})}resetValues(){this.histories=[],this.current_item=1}queryParamsHandling(e){this.filter.category=e.category?Array.isArray(e.category)?e.category:[e.category]:[],this.filter.items=e.items&&parseInt(e.items)>0?e.items:50,this.filter.timer=e.timer?e.timer:0,this.filter.program=e.program?e.program:"Education",this.getExamQuestionnaires()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(h.O),t.Y36(d.gz),t.Y36(d.F0),t.Y36(x.ch),t.Y36(y.ux),t.Y36(r.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-exam"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["display",""],[1,"sec-container"],[1,"score-container"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","warn",3,"click"],[1,"spacer"],[3,"question","ishome"],[3,"choice","answer","ishome","itemNo","history",4,"ngFor","ngForOf"],[1,"actions"],["mat-icon-button","","aria-label","Show Explanation",3,"disabled","click"],["mat-icon-button","","aria-label","Back",3,"disabled","click"],["mat-icon-button","","aria-label","Go to skipped question",3,"disabled","click"],["mat-icon-button","","aria-label","Next",3,"disabled","click"],[3,"choice","answer","ishome","itemNo","history"]],template:function(e,o){if(1&e&&(t.YNc(0,Z,1,0,"mat-spinner",0),t.YNc(1,S,27,9,"ng-template",null,1,t.W1O)),2&e){const s=t.MAs(2);t.Q6J("ngIf",o.isloading)("ngIfElse",s)}},dependencies:[g.sg,g.O5,v.d,p.lW,p.RK,m.Hw,u.Ou,E,T],styles:[".sec-container[_ngcontent-%COMP%]{max-width:800px;width:90%;padding:0 5%;margin:auto;text-align:start}.program-title[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px 0 50px}.program-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:x-large}.program-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:var(--header);width:70px;height:70px;font-size:70px}.score-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:15px 10px}.score-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:20px;font-weight:500}.actions[_ngcontent-%COMP%]{display:flex;align-items:center;padding:20px 10px;gap:12px}button.mat-primary[_ngcontent-%COMP%], button.mat-warn[_ngcontent-%COMP%]{font-family:Bebas Neue;font-size:18px;color:#fff;border-radius:0;text-shadow:1px 1px 1px rgba(0,0,0,.45)}  .mat-mdc-dialog-container{--mdc-dialog-container-color: #c9e4d9}  .mat-mdc-snack-bar-container{--mdc-snackbar-container-color: var(--header)}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}@media screen and (max-width: 420px){button.mat-primary[_ngcontent-%COMP%], button.mat-warn[_ngcontent-%COMP%]{font-size:14px}}"]}),i})()},8658:(b,C,n)=>{n.d(C,{N:()=>d});var a=n(1074),r=n(5879),t=n(1075);let d=(()=>{class h{constructor(p,m){this.explanation=p,this.dialogRef=m}close(){this.dialogRef.close()}}return h.\u0275fac=function(p){return new(p||h)(r.Y36(a.WI),r.Y36(a.so))},h.\u0275cmp=r.Xpm({type:h,selectors:[["app-explain-prompt"]],decls:5,vars:1,consts:[[1,"sec-container"],["mat-flat-button","","color","primary",3,"click"]],template:function(p,m){1&p&&(r.TgZ(0,"div",0)(1,"p"),r._uU(2),r.qZA(),r.TgZ(3,"button",1),r.NdJ("click",function(){return m.close()}),r._uU(4,"OK"),r.qZA()()),2&p&&(r.xp6(2),r.Oqu(m.explanation?m.explanation:"No explanation at this moment. Sorry (\uff61\u2022\u0301\ufe3f\u2022\u0300\uff61)"))},dependencies:[t.lW],styles:[".sec-container[_ngcontent-%COMP%]{display:flex;padding:20px;line-height:2;flex-direction:column;align-items:center;max-height:80vh;white-space:pre-line}button.mat-primary[_ngcontent-%COMP%], button.mat-warn[_ngcontent-%COMP%]{font-family:Bebas Neue;font-size:18px;color:#fff;border-radius:0;text-shadow:1px 1px 1px rgba(0,0,0,.45);width:64px}@media screen and (max-width: 420px){.sec-container[_ngcontent-%COMP%]{overflow-y:scroll}}"]}),h})()},1408:(b,C,n)=>{n.d(C,{J:()=>y});var a=n(6223),r=n(1074),t=n(5879),d=n(343),h=n(6814),x=n(6649),p=n(6005),m=n(9548),P=n(6611),c=n(1075);function M(g,v){if(1&g&&(t.TgZ(0,"mat-option",6),t._uU(1),t.qZA()),2&g){const u=v.$implicit;t.Q6J("value",u),t.xp6(1),t.hij(" ",u," ")}}let y=(()=>{class g{constructor(u,f,E,w){this.formbuilder=u,this.question=f,this.examService=E,this.dialogRef=w,this.issues=["Incorrect Answer","Missing Content","Unclear Explanation","Others"],this.reportForm=this.formbuilder.group({questionId:new a.NI(f._id),selectedIssue:new a.NI("",[a.kI.required]),remarks:new a.NI("")})}onSubmit(){this.reportForm.valid&&(this.examService.createIssueReport({questionId:this.reportForm.value.questionId,type:this.reportForm.value.selectedIssue,remarks:this.reportForm.value.remarks}).subscribe(f=>console.log(f)),this.dialogRef.close("close"))}}return g.\u0275fac=function(u){return new(u||g)(t.Y36(a.qu),t.Y36(r.WI),t.Y36(d.O),t.Y36(r.so))},g.\u0275cmp=t.Xpm({type:g,selectors:[["app-report-question"]],decls:15,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"sec-container"],["formControlName","selectedIssue"],[3,"value",4,"ngFor","ngForOf"],["matInput","","rows","2","placeholder","","formControlName","remarks"],["type","submit","mat-flat-button","","color","primary"],[3,"value"]],template:function(u,f){1&u&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return f.onSubmit()}),t.TgZ(1,"div",1)(2,"p"),t._uU(3," Thank you for providing the report. We are committed to enhancing our question data with your assistance. Your contribution is greatly appreciated in this endeavor. "),t.qZA(),t.TgZ(4,"mat-form-field")(5,"mat-label"),t._uU(6,"Issue Type"),t.qZA(),t.TgZ(7,"mat-select",2),t.YNc(8,M,2,2,"mat-option",3),t.qZA()(),t.TgZ(9,"mat-form-field")(10,"mat-label"),t._uU(11,"Leave a note / Specify your answer"),t.qZA(),t._UZ(12,"textarea",4),t.qZA(),t.TgZ(13,"button",5),t._uU(14,"SEND"),t.qZA()()()),2&u&&(t.Q6J("formGroup",f.reportForm),t.xp6(8),t.Q6J("ngForOf",f.issues))},dependencies:[h.sg,x.ey,p.KE,p.hX,m.Nt,P.gD,c.lW,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u],styles:[".sec-container[_ngcontent-%COMP%]{text-align:center;padding:10px;display:flex;flex-direction:column;align-items:center;gap:10px}.sec-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000000de}mat-form-field[_ngcontent-%COMP%]{width:100%}button.mat-primary[_ngcontent-%COMP%], button.mat-warn[_ngcontent-%COMP%]{font-family:Bebas Neue;font-size:18px;color:#fff;border-radius:0;text-shadow:1px 1px 1px rgba(0,0,0,.45);width:64px}  .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:transparent!important}"]}),g})()},3584:(b,C,n)=>{n.r(C),n.d(C,{ExamModule:()=>P});var a=n(6814),r=n(1896),t=n(4710),d=n(5879);const h=[{path:"",component:t.w}];let x=(()=>{class c{}return c.\u0275fac=function(y){return new(y||c)},c.\u0275mod=d.oAB({type:c}),c.\u0275inj=d.cJS({imports:[r.Bz.forChild(h),r.Bz]}),c})();var p=n(9354),m=n(6223);let P=(()=>{class c{}return c.\u0275fac=function(y){return new(y||c)},c.\u0275mod=d.oAB({type:c}),c.\u0275inj=d.cJS({imports:[a.ez,p.q,x,m.UX,m.u5]}),c})()}}]);